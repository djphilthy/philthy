<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>philthy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <style>
    /* --- CORE STYLES --- */
    body {
      margin: 0;
      padding: 32px; /* Keep padding for content so it doesn't hit edges */
      background: #000;
      color: #fff;
      font-family: "Courier New", Courier, monospace;
      font-size: 16px;
      line-height: 1.6;
      
      /* CUSTOM CURSOR */
      cursor: url('data:image/svg+xml;utf8,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 4V20M4 12H20" stroke="white" stroke-width="2"/></svg>') 12 12, auto;
    }

    /* Force cursor on clickable items too */
    a, button, .progress-container {
      cursor: inherit; 
    }

    a {
      color: #fff;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
      background-color: #fff;
      color: #000;
    }

    .container {
      max-width: 720px;
      position: relative;
      z-index: 10;
    }

    .title {
      font-weight: bold;
      margin-bottom: 32px;
      font-size: 24px;
      letter-spacing: -1px;
    }

    /* --- NUCLEAR OPTION: HIDE DEFAULT AUDIO PLAYER --- */
    audio {
        display: none !important;
        opacity: 0 !important;
        pointer-events: none;
    }

    /* --- TRACK LIST STYLES --- */
    .track-wrapper {
        margin-bottom: 12px;
    }

    .track-name {
        display: block;
        margin-bottom: 4px;
        font-weight: bold;
        font-size: 16px;
    }

    /* --- CUSTOM TERMINAL PLAYER UI --- */
    .custom-player {
        display: none; /* Hidden until clicked */
        border: 1px solid #fff;
        padding: 10px;
        margin-bottom: 20px;
        background: #000;
        align-items: center;
        gap: 15px;
        font-family: "Courier New", Courier, monospace;
    }

    .play-btn {
        background: none;
        border: none;
        color: #fff;
        font-family: inherit;
        font-size: 16px;
        font-weight: bold;
        padding: 0;
        min-width: 65px;
        text-align: left;
        outline: none;
    }
    .play-btn:hover {
        text-decoration: underline;
    }

    .progress-container {
        flex-grow: 1;
        height: 12px;
        background: #000; 
        position: relative;
        border-bottom: 1px dashed #555;
    }

    .progress-fill {
        height: 100%;
        background: #fff;
        width: 0%;
        border-right: 2px solid #fff; 
    }

    .time-display {
        font-size: 14px;
        min-width: 50px;
        text-align: right;
    }

    /* --- VIDEO BACKGROUND FIX FOR IPHONE --- */
    #bgVideo {
        position: fixed;
        top: 50%;
        left: 50%;
        /* This transform centers the video perfectly */
        transform: translate(-50%, -50%);
        
        /* Force minimum dimensions to cover screen */
        min-width: 100vw; 
        min-height: 100vh;
        
        /* Ensure it covers even if aspect ratio is weird */
        width: auto;
        height: auto;
        
        z-index: -2;
        object-fit: cover;
        opacity: 0;
        transition: opacity 1.5s ease;
    }

    /* Media query to force fill on very wide or very tall screens */
    @media (min-aspect-ratio: 16/9) {
        #bgVideo {
            width: 100vw;
            height: auto;
        }
    }
    @media (max-aspect-ratio: 16/9) {
        #bgVideo {
            width: auto;
            height: 100vh;
        }
    }

    #bgVideo.visible {
        opacity: 1;
    }

    #videoOverlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        z-index: -1;
        pointer-events: none;
    }
  </style>
</head>
<body>

  <video id="bgVideo" muted loop playsinline></video>
  <div id="videoOverlay"></div>

  <div class="container">
    <div class="title">philthy</div>

    <div class="track-wrapper">
        <a class="track-name" data-src="mixes/ORDON_U_GET.mp3">ORDON_U_GET.mp3</a>
        <div class="custom-player">
            <button class="play-btn">[PLAY]</button>
            <div class="progress-container"><div class="progress-fill"></div></div>
            <span class="time-display">00:00</span>
        </div>
        <audio preload="none"></audio> 
    </div>

    <div class="track-wrapper">
        <a class="track-name" data-src="mixes/HILLBILLY_HEART.mp3">HILLBILLY_HEART.mp3</a>
        <div class="custom-player">
            <button class="play-btn">[PLAY]</button>
            <div class="progress-container"><div class="progress-fill"></div></div>
            <span class="time-display">00:00</span>
        </div>
        <audio preload="none"></audio>
    </div>

    <div class="track-wrapper">
        <a class="track-name" data-src="mixes/BLOW_MORE.mp3">BLOW_MORE.mp3</a>
        <div class="custom-player">
            <button class="play-btn">[PLAY]</button>
            <div class="progress-container"><div class="progress-fill"></div></div>
            <span class="time-display">00:00</span>
        </div>
        <audio preload="none"></audio>
    </div>

    <div class="track-wrapper">
        <a class="track-name" data-src="mixes/FLACKO_NU_GENEA.mp3">FLACKO_NU_GENEA.mp3</a>
        <div class="custom-player">
            <button class="play-btn">[PLAY]</button>
            <div class="progress-container"><div class="progress-fill"></div></div>
            <span class="time-display">00:00</span>
        </div>
        <audio preload="none"></audio>
    </div>

    <div class="track-wrapper">
        <a class="track-name" data-src="mixes/I_RAN_FANETO.mp3">I_RAN_FANETO.mp3</a>
        <div class="custom-player">
            <button class="play-btn">[PLAY]</button>
            <div class="progress-container"><div class="progress-fill"></div></div>
            <span class="time-display">00:00</span>
        </div>
        <audio preload="none"></audio>
    </div>

    <div class="track-wrapper">
        <a class="track-name" data-src="mixes/CHROMOHEAD.mp3">CHROMOHEAD.mp3</a>
        <div class="custom-player">
            <button class="play-btn">[PLAY]</button>
            <div class="progress-container"><div class="progress-fill"></div></div>
            <span class="time-display">00:00</span>
        </div>
        <audio preload="none"></audio>
    </div>

    <div class="track-wrapper">
        <a class="track-name" data-src="mixes/SUNDRESS_ARREST.mp3">SUNDRESS_ARREST.mp3</a>
        <div class="custom-player">
            <button class="play-btn">[PLAY]</button>
            <div class="progress-container"><div class="progress-fill"></div></div>
            <span class="time-display">00:00</span>
        </div>
        <audio preload="none"></audio>
    </div>

    <div class="track-wrapper">
        <a class="track-name" data-src="mixes/ON_SAKURA.mp3">ON_SAKURA.mp3</a>
        <div class="custom-player">
            <button class="play-btn">[PLAY]</button>
            <div class="progress-container"><div class="progress-fill"></div></div>
            <span class="time-display">00:00</span>
        </div>
        <audio preload="none"></audio>
    </div>

    <div class="track-wrapper">
        <a class="track-name" data-src="mixes/STAY_LOCATION.mp3">STAY_LOCATION.mp3</a>
        <div class="custom-player">
            <button class="play-btn">[PLAY]</button>
            <div class="progress-container"><div class="progress-fill"></div></div>
            <span class="time-display">00:00</span>
        </div>
        <audio preload="none"></audio>
    </div>

    <div class="track-wrapper">
        <a class="track-name" data-src="mixes/COP_LIGHTS.mp3">COP_LIGHTS.mp3</a>
        <div class="custom-player">
            <button class="play-btn">[PLAY]</button>
            <div class="progress-container"><div class="progress-fill"></div></div>
            <span class="time-display">00:00</span>
        </div>
        <audio preload="none"></audio>
    </div>

    <div class="track-wrapper">
        <a class="track-name" data-src="mixes/MEGAMAN_EMPIRE.mp3">MEGAMAN_EMPIRE.mp3</a>
        <div class="custom-player">
            <button class="play-btn">[PLAY]</button>
            <div class="progress-container"><div class="progress-fill"></div></div>
            <span class="time-display">00:00</span>
        </div>
        <audio preload="none"></audio>
    </div>

    <div class="track-wrapper">
        <a class="track-name" data-src="mixes/STAY_HIGH_X_THATS_WHAT_I_LIKE.mp3">IM_HIGH_WHAT_I_LIKE.mp3</a>
        <div class="custom-player">
            <button class="play-btn">[PLAY]</button>
            <div class="progress-container"><div class="progress-fill"></div></div>
            <span class="time-display">00:00</span>
        </div>
        <audio preload="none"></audio>
    </div>

    <div class="track-wrapper">
        <a class="track-name" data-src="mixes/BROKE_2_ASS.mp3">BROKE_2_ASS.mp3</a>
        <div class="custom-player">
            <button class="play-btn">[PLAY]</button>
            <div class="progress-container"><div class="progress-fill"></div></div>
            <span class="time-display">00:00</span>
        </div>
        <audio preload="none"></audio>
    </div>

    <div class="track-wrapper">
        <a class="track-name" data-src="mixes/SHAKE_OFF_MY_NEEDS.mp3">SHAKE_OFF_MY_NEEDS.mp3</a>
        <div class="custom-player">
            <button class="play-btn">[PLAY]</button>
            <div class="progress-container"><div class="progress-fill"></div></div>
            <span class="time-display">00:00</span>
        </div>
        <audio preload="none"></audio>
    </div>

    <div class="track-wrapper">
        <a class="track-name" data-src="mixes/TWO_TWO_HIII.mp3">TWO_TWO_HIII.mp3</a>
        <div class="custom-player">
            <button class="play-btn">[PLAY]</button>
            <div class="progress-container"><div class="progress-fill"></div></div>
            <span class="time-display">00:00</span>
        </div>
        <audio preload="none"></audio>
    </div>

  </div>

  <script>
    // --- VIDEO LOGIC ---
    const bgVideo = document.getElementById("bgVideo");
    
    const videoList = [
      "movies/Philthy Video (1).mp4",
      "movies/Philthy Video (6).mp4",
      "movies/Philthy Video (7).mp4",
      "movies/Philthy Video (8).mp4",
      "movies/Philthy Video (9).mp4",
      "movies/Philthy Video (10).mp4",
      "movies/Philthy Video (11).mp4",
      "movies/Philthy Video (12).mp4"
    ];

    function playRandomVideo() {
        const randomVid = videoList[Math.floor(Math.random() * videoList.length)];
        bgVideo.src = randomVid;
        bgVideo.play().catch(e => console.log("Video interaction required", e));
        bgVideo.classList.add("visible");
    }

    function stopVideo() {
        bgVideo.classList.remove("visible");
        setTimeout(() => { bgVideo.pause(); }, 1500); 
    }

    // --- AUDIO & UI LOGIC ---
    function closeAllPlayers(exceptWrapper = null) {
        document.querySelectorAll('.track-wrapper').forEach(wrapper => {
            if (wrapper === exceptWrapper) return;
            wrapper.querySelector('.custom-player').style.display = 'none';
            const audio = wrapper.querySelector('audio');
            if(audio) {
                audio.pause();
                audio.currentTime = 0;
            }
            const btn = wrapper.querySelector('.play-btn');
            if(btn) btn.innerText = "[PLAY]";
        });
    }

    function formatTime(seconds) {
        if (!seconds || isNaN(seconds)) return "00:00";
        const m = Math.floor(seconds / 60);
        const s = Math.floor(seconds % 60);
        return `${m < 10 ? '0' : ''}${m}:${s < 10 ? '0' : ''}${s}`;
    }

    document.querySelectorAll('.track-wrapper').forEach(wrapper => {
        const link = wrapper.querySelector('.track-name');
        const playerUI = wrapper.querySelector('.custom-player');
        const playBtn = wrapper.querySelector('.play-btn');
        const progressBar = wrapper.querySelector('.progress-fill');
        const progressContainer = wrapper.querySelector('.progress-container');
        const timeDisplay = wrapper.querySelector('.time-display');
        const audio = wrapper.querySelector('audio');

        link.addEventListener('click', (e) => {
            e.preventDefault();
            if (playerUI.style.display === 'flex') {
                audio.pause();
                playerUI.style.display = 'none';
                playBtn.innerText = "[PLAY]";
                stopVideo();
                return;
            }

            closeAllPlayers(wrapper);
            playerUI.style.display = 'flex';
            
            if (!audio.src) audio.src = link.dataset.src;
            audio.play();
            playBtn.innerText = "[STOP]";
            playRandomVideo();

            if ('mediaSession' in navigator) {
                navigator.mediaSession.metadata = new MediaMetadata({
                    title: link.innerText.replace('.mp3', '').replace(/_/g, ' '),
                    artist: "Philthy",
                });
                navigator.mediaSession.setActionHandler('play', () => audio.play());
                navigator.mediaSession.setActionHandler('pause', () => audio.pause());
            }
        });

        playBtn.addEventListener('click', () => {
            if (audio.paused) {
                audio.play();
                playBtn.innerText = "[STOP]";
                playRandomVideo();
            } else {
                audio.pause();
                playBtn.innerText = "[PLAY]";
                stopVideo();
            }
        });

        audio.addEventListener('timeupdate', () => {
            const percent = (audio.currentTime / audio.duration) * 100;
            progressBar.style.width = percent + "%";
            timeDisplay.innerText = formatTime(audio.currentTime);
        });

        progressContainer.addEventListener('click', (e) => {
            const width = progressContainer.clientWidth;
            const clickX = e.offsetX;
            const duration = audio.duration;
            audio.currentTime = (clickX / width) * duration;
        });

        audio.addEventListener('ended', () => {
            playBtn.innerText = "[PLAY]";
            stopVideo();
            progressBar.style.width = "0%";
        });
    });
  </script>
</body>
</html>
